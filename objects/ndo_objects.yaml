---
objects:
  - name: System Config
    template: system_config
    api_path: platform/systemConfig
    object_ids: "{% if ndo.system_config is defined %}system_config{% endif %}"
    delete: false
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.system_config
  - name: Remote Location
    template: remote_location
    api_path: platform/remote-locations
    object_ids: "{{ ndo | default() | community.general.json_query('remote_locations[*].name') }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.remote_locations
  - name: Site
    template: site
    api_path: sites/manage
    delete: false
    object_ids: "{{ ndo | default() | community.general.json_query('sites[*].name') }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.sites.name
      - ndo.sites.apic_urls
      - ndo.sites.username
      - ndo.sites.password
      - ndo.sites.id
      - ndo.sites.location
  - name: Site Fabric Connectivity
    template: fabric_connectivity
    api_path: sites/fabric-connectivity
    object_ids: "{% if ndo.sites is defined %}fabric_connectivity{% endif %}"
    delete: false
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.sites.multisite
      - ndo.fabric_connectivity
      - ndo.sites.routed_domain
      - ndo.sites.name
      - ndo.sites.id
      - ndo.sites.multicast_tep
      - ndo.sites.bgp
      - ndo.sites.ospf
      - ndo.sites.ospf_policies
      - ndo.sites.pods
  - name: Tenant
    template: tenant
    api_path: tenants
    object_ids: "{{ ndo | default() | community.general.json_query('tenants[*].name') }}"
    delete_ignore:
      - common
      - infra
      - dcnm-default-tn
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.tenants
  - name: Schema
    template: schema
    api_path: schemas
    object_ids: "{{ ndo | default() | community.general.json_query('schemas[*].name') }}"
    folder: schema
    test_types:
      - config
    paths:
      - ndo.schemas
    doc_paths:
      - ndo.schemas.name
  - name: DHCP Relay Policy
    template: dhcp_relay
    api_path: policies/dhcp/relay
    object_ids: "{{ ndo | default() | community.general.json_query('policies.dhcp_relays[*].name') }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.policies.dhcp_relays
  - name: DHCP Option Policy
    template: dhcp_option
    api_path: policies/dhcp/option
    object_ids: "{{ ndo | default() | community.general.json_query('policies.dhcp_options[*].name') }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.policies.dhcp_options
