---
bootstrap_objects:
  - name: Bootstrap
    template: bootstrap
    folder: bootstrap
    paths:
      - ndo.bootstrap
    platforms:
      - standalone
objects:
  - name: System Config
    template: system_config
    api_path: platform/systemConfig
    object_ids: "{% if ndo.system_config is defined %}system_config{% endif %}"
    method: put
    delete: false
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.system_config
    platforms:
      - standalone
      - nd
  - name: Tacacs Provider
    template: tacacs_provider
    api_path: auth/providers/tacacs
    object_ids: "{{ ndo | default() | community.general.json_query('tacacs_providers[*].hostname_ip') }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.tacacs_providers
    platforms:
      - standalone
  - name: Login Domain
    template: login_domain
    api_path: auth/domains
    object_ids: "{{ ndo | default() | community.general.json_query('login_domains[*].name') }}"
    delete_ignore:
      - Local
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.login_domains
    platforms:
      - standalone
  - name: Remote Location
    template: remote_location
    api_path: platform/remote-locations
    object_ids: "{{ ndo | default() | community.general.json_query('remote_locations[*].name') }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.remote_locations
    platforms:
      - standalone
      - nd
  - name: User
    template: user
    api_path: users
    object_ids: "{{ ndo | default() | community.general.json_query('users[*].username') }}"
    delete_ignore:
      - admin
      - "{{ ndo_username }}"
      - "{{ ndo_test_username | default() }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.users
    platforms:
      - standalone
  - name: CA Certificate
    template: ca_certificate
    api_path: auth/security/certificates
    object_ids: "{{ ndo | default() | community.general.json_query('ca_certificates[*].name') }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.ca_certificates
    platforms:
      - standalone
  - name: Site
    template: site
    api_path: sites
    object_ids: "{{ ndo | default() | community.general.json_query('sites[*].name') }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.sites.name
      - ndo.sites.apic_urls
      - ndo.sites.username
      - ndo.sites.password
      - ndo.sites.id
      - ndo.sites.location
    platforms:
      - standalone
  - name: Site Fabric Connectivity
    template: fabric_connectivity
    api_path: sites/fabric-connectivity
    object_ids: "{% if ndo.sites is defined %}fabric_connectivity{% endif %}"
    method: put
    delete: false
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.sites.multisite
      - ndo.fabric_connectivity
      - ndo.sites.routed_domain
      - ndo.sites.name
      - ndo.sites.id
      - ndo.sites.multicast_tep
      - ndo.sites.bgp
      - ndo.sites.ospf
      - ndo.sites.ospf_policies
      - ndo.sites.pods
    platforms:
      - standalone
      - nd
  - name: Tenant
    template: tenant
    api_path: tenants
    object_ids: "{{ ndo | default() | community.general.json_query('tenants[*].name') }}"
    delete_ignore:
      - common
      - infra
      - dcnm-default-tn
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.tenants
    platforms:
      - standalone
      - nd
  - name: Schema
    template: schema
    api_path: schemas
    object_ids: "{{ ndo | default() | community.general.json_query('schemas[*].name') }}"
    folder: schema
    test_types:
      - config
    paths:
      - ndo.schemas
    platforms:
      - standalone
      - nd
    doc_paths:
      - ndo.schemas.name
  - name: DHCP Relay Policy
    template: dhcp_relay
    api_path: policies/dhcp/relay
    object_ids: "{{ ndo | default() | community.general.json_query('policies.dhcp_relays[*].name') }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.policies.dhcp_relays
    platforms:
      - standalone
      - nd
  - name: DHCP Option Policy
    template: dhcp_option
    api_path: policies/dhcp/option
    object_ids: "{{ ndo | default() | community.general.json_query('policies.dhcp_options[*].name') }}"
    folder: ndo
    test_types:
      - config
    paths:
      - ndo.policies.dhcp_options
    platforms:
      - standalone
      - nd
